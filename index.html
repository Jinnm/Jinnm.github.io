<!DOCTYPE html><html class="theme-next pisces use-motion"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css"><meta name="keywords" content="Hexo, NexT"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2"><meta property="og:type" content="website"><meta property="og:title" content="Hexo"><meta property="og:url" content="http://Jinnm.github.io/index.html"><meta property="og:site_name" content="Hexo"><meta property="og:locale" content="default"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Hexo"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",sidebar:{position:"left",display:"post",offset:12,offset_float:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:!0,duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://Jinnm.github.io/"><title>Hexo</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="default"><div class="container sidebar-position-left page-home"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Hexo</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>Tags</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><section id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://Jinnm.github.io/2018/11/06/title/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="John Doe"><meta itemprop="description" content><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2018/11/06/title/" itemprop="url">Code, design, movie and photography</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-06T10:03:16+08:00">2018-11-06</time></span></div></header><div class="post-body" itemprop="articleBody"><p>Codemoph = Code, Design, Movie, Photography.</p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://Jinnm.github.io/2019/05/30/ceshipic/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="John Doe"><meta itemprop="description" content><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2019/05/30/ceshipic/" itemprop="url">ceshipic</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-30T10:59:23+08:00">2019-05-30</time></span></div></header><div class="post-body" itemprop="articleBody"><p><img src="http://ww1.sinaimg.cn/large/006tNc79ly1g3j5sdjb97j30940foq3q.jpg" alt></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://Jinnm.github.io/2019/05/29/Unity2SP/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="John Doe"><meta itemprop="description" content><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2019/05/29/Unity2SP/" itemprop="url">Unity Shader转SP</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-29T18:59:42+08:00">2019-05-29</time></span></div></header><div class="post-body" itemprop="articleBody"><p>前段时间研究了一下怎么把Unity的shader搬到SP，原因是：美术在SP中制作贴图，生成的美术资源放进Unity之后就完全是另一个样子了，来回修改非常麻烦。所以希望SP中就显示引擎里的效果。</p><p>通过观察sp自带的clay shader</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// - Ambient and diffuse contribution</span><br><span class="line">diffuseShadingOutput((ambient + NdV) * diffuse);</span><br><span class="line">// - Specular contribution</span><br><span class="line">specularShadingOutput(vec3(specular * pow(NdV, 64.0 * clayGloss)));</span><br></pre></td></tr></table></figure><p>发现两点<br>1、这个shader里根本就没有用光照信息（NdV是Normal * View），但是最终的效果可能还是会加上光照信息？只是这部分被隐藏了<br>2、sp的shader提供了一些针对pbr不同通道的接口，但是不知道里面具体做了啥</p><p>为了弄清楚这两点，尝试一下phong光照模型，只用diffuse和specular，ambient暂时不要。<br>按照clay shader的方法写了一个phong的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import lib-vectors.glsl</span><br><span class="line">import lib-alpha.glsl</span><br><span class="line">import lib-pbr.glsl</span><br><span class="line">import lib-utils.glsl</span><br><span class="line">//- Phong shader</span><br><span class="line">//- ===========</span><br><span class="line">//: param auto channel_basecolor</span><br><span class="line">uniform sampler2D basecolor_tex;</span><br><span class="line">//: param custom &#123; &quot;default&quot;: 0.5, &quot;label&quot;: &quot;Specular&quot;, &quot;min&quot;: 0.001, &quot;max&quot;: 1.0 &#125;</span><br><span class="line">uniform float specular;</span><br><span class="line">//: param custom &#123; &quot;default&quot;: 0.5, &quot;label&quot;: &quot;Glossiness&quot;, &quot;min&quot;: 0.001, &quot;max&quot;: 1.0 &#125;</span><br><span class="line">uniform float gloss;</span><br><span class="line">//- Entry point of the shader.</span><br><span class="line">void shade(V2F inputs)</span><br><span class="line">&#123;</span><br><span class="line">	//- We generate local world space vectors</span><br><span class="line">	LocalVectors vectors = computeLocalFrame(inputs);</span><br><span class="line">	//- Simulate camera aligned lighting</span><br><span class="line">	float NdV = max(0.0, dot(vectors.normal, vectors.eye));</span><br><span class="line">	vec3 baseColor = getBaseColor(basecolor_tex, inputs.tex_coord);</span><br><span class="line">	//- Ambient and diffuse contribution</span><br><span class="line">	diffuseShadingOutput(NdV * baseColor);</span><br><span class="line">	//- Specular contribution</span><br><span class="line">	specularShadingOutput(specular * vec3(pow(NdV, 64.0 * gloss)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>按照这个写法写unity shader，并将颜色空间改为linear（因为SP中是默认Linear）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// ...</span><br><span class="line">fixed3 normalizedNormal = normalize(i.worldNormal);</span><br><span class="line">fixed3 normalizedViewDir = normalize(i.worldViewDir);</span><br><span class="line">float NdV = saturate(dot(normalizedNormal, normalizedViewDir));</span><br><span class="line"></span><br><span class="line">fixed3 albedo = tex2D(_MainTex, i.uv);</span><br><span class="line">fixed3 diffuse = albedo * NdV;</span><br><span class="line">fixed3 specular = _Specular * pow(NdV, 64.0 * _Glossness);</span><br><span class="line">return fixed4((diffuse + specular), 1);</span><br><span class="line">// ...</span><br></pre></td></tr></table></figure><p>然后发现！几乎完全一样！<br><img src="http://ww1.sinaimg.cn/large/006tNc79ly1g3j4sf8t93j30ur0f2dz7.jpg" alt></p><p>所以<br>1、ShadingOutput的接口貌似啥也没干，就是最后把几个接口的值相加输出<br>2、SP自带光照可以直接不要，只用自己的光照<br>所以理论上，只要把unity的shader翻译成glsl，并把光照参数手动写进去就好了。来试试看光照。</p><p>在之前shader的基础上加上光源。UUnity使用一个平行光，SP中使用和Unity中一样的光照参数。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fixed3 halfDir = normalize(normalizedLightDir + normalizedViewDir);</span><br><span class="line">float NdV = saturate(dot(normalizedNormal, normalizedViewDir));</span><br><span class="line">float NdL = saturate(dot(normalizedNormal, normalizedLightDir));</span><br><span class="line">float NdH = saturate(dot(normalizedNormal, halfDir));</span><br><span class="line">fixed3 albedo = tex2D(_MainTex, i.uv);</span><br><span class="line">fixed3 diffuse = albedo * NdL;</span><br><span class="line">fixed3 specular = _Specular * pow(NdH, 64.0 * _Glossness);</span><br><span class="line">return fixed4((diffuse + specular), 1);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// mainLight的参数做个对外接口，可调节</span><br><span class="line">vec3 halfDir = normalize(mainLight.direction + vectors.eye);</span><br><span class="line">float NdV = max(0.0, dot(vectors.normal, vectors.eye));</span><br><span class="line">float NdL = max(0.0, dot(vectors.normal, mainLight.direction));</span><br><span class="line">float NdH = max(0.0, dot(vectors.normal, halfDir));</span><br><span class="line">vec3 baseColor = getBaseColor(basecolor_tex, inputs.tex_coord);</span><br><span class="line">//- Ambient and diffuse contribution</span><br><span class="line">diffuseShadingOutput(NdL * baseColor);</span><br><span class="line">//- Specular contribution</span><br><span class="line">specularShadingOutput(specular * vec3(pow(NdH, 64.0 * gloss)));</span><br></pre></td></tr></table></figure><p>变换光源方向看看效果，可以发现达到了一致。<br><img src="http://ww4.sinaimg.cn/large/006tNc79ly1g3j4xz1cb8j30ut0f9k9y.jpg" alt><br><img src="http://ww4.sinaimg.cn/large/006tNc79ly1g3j4xsqw1dj30vd0ffqje.jpg" alt><br><img src="http://ww2.sinaimg.cn/large/006tNc79ly1g3j4xg1u48j30vq0f4djr.jpg" alt></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://Jinnm.github.io/2019/03/30/photo4/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="John Doe"><meta itemprop="description" content><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2019/03/30/photo4/" itemprop="url">摄影 || 胶片X夜景</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-30T19:59:25+08:00">2019-03-30</time></span></div></header><div class="post-body" itemprop="articleBody"><p>手持傻瓜胶片机拍夜景，想想就很崩啊……不过还是想尝试下，了解一下自己的相机<br>出片之后最大的感受是，闪光灯一打真的很丑，整个画面就死了的感觉</p><p><img src="http://imgchr.com/i/EXnOJK" alt></p><p><img src="http://ws3.sinaimg.cn/large/006tKfTcly1g1l3ls2tqaj31930u04qs.jpg" alt><br><img src="http://ws1.sinaimg.cn/large/006tKfTcly1g1l3lxr902j31930u0kjm.jpg" alt><br><img src="http://ws1.sinaimg.cn/large/006tKfTcly1g1l3m5yhnkj31930u01l0.jpg" alt><br><img src="http://ws3.sinaimg.cn/large/006tKfTcly1g1l3mcml7qj31930u01kz.jpg" alt><br><img src="http://ws4.sinaimg.cn/large/006tKfTcly1g1l3mfzi2ej31930u07wj.jpg" alt><br><img src="http://ws3.sinaimg.cn/large/006tKfTcly1g1l3mmk6rxj31930u0npf.jpg" alt><br><img src="http://ws3.sinaimg.cn/large/006tKfTcly1g1l3mpql2wj31930u0e83.jpg" alt><br><img src="http://ws3.sinaimg.cn/large/006tKfTcly1g1l3n1691gj31930u01l0.jpg" alt><br><img src="http://ws3.sinaimg.cn/large/006tKfTcly1g1l3n56u6xj31930u0x6r.jpg" alt><br><img src="http://ws3.sinaimg.cn/large/006tKfTcly1g1l3nbbvqzj31930u0u0z.jpg" alt><br><img src="http://ws1.sinaimg.cn/large/006tKfTcly1g1l3nf5lgaj31930u0qv7.jpg" alt><br><img src="http://ws2.sinaimg.cn/large/006tKfTcly1g1l3np6s1yj31930u0u0z.jpg" alt><br><img src="http://ws2.sinaimg.cn/large/006tKfTcly1g1l3nwvf0pj31930u04qs.jpg" alt><br><img src="http://ws1.sinaimg.cn/large/006tKfTcly1g1l3o18kpyj31930u0u0y.jpg" alt><br><img src="http://ws3.sinaimg.cn/large/006tKfTcly1g1l3mvrtrcj31930u0qv8.jpg" alt><br><img src="http://ws1.sinaimg.cn/large/006tKfTcly1g1l495xbq2j307605gaaf.jpg" alt></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://Jinnm.github.io/2019/03/25/photo3/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="John Doe"><meta itemprop="description" content><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2019/03/25/photo3/" itemprop="url">摄影 || DX Code是什么</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-25T23:40:39+08:00">2019-03-25</time></span></div></header><div class="post-body" itemprop="articleBody"><p>我有两台胶片机，一台是全手动的Olympus om1，还有一台是傻瓜式的Konica kmini，全手动的需要自己调焦调光圈，自己根据胶片调ISO，甚至因为买不到合适电压的测光电池，还要因为电压过大，将ISO调的比胶片本身设定的低，另外也要自己过片自己回卷。习惯了做全套之后，我第一次用傻瓜胶片机的时候，找了半天调节ISO的地方，自动调焦自动过片我都能理解，但是ISO总要自己调吧？因为这主要不是外界景物的问题，而是胶卷本身啊。网上一查才知道原来胶卷上有DX Code这个东西，可以使得相机自动调节ISO。</p><p>就是胶卷上的这个黑白的方块格（我之前一直以为是装饰！突然想到电影的打板也是这样一块黑一块白的，这么说来很可能也有含义，但没查到，不过查到了理发店门口为什么也有那种黑白相间的东西~）</p><p><img src="http://ww2.sinaimg.cn/large/006tNc79ly1g3j59gqrmqj317m0sihdt.jpg" alt></p><p>每几个方格1或0的组合表示不同的意思，通过DX Code，相机可以得知胶卷的感光度，可拍张数以及宽容度。</p><p><img src="http://ww3.sinaimg.cn/large/006tNc79ly1g3j59b25ikj31880sqac5.jpg" alt><br><img src="http://ww4.sinaimg.cn/large/006tNc79ly1g3j59aj4a7j31880kidgx.jpg" alt></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://Jinnm.github.io/2019/03/24/shader3/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="John Doe"><meta itemprop="description" content><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2019/03/24/shader3/" itemprop="url">Wireframe without Geometry Shader</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-24T15:37:52+08:00">2019-03-24</time></span></div></header><div class="post-body" itemprop="articleBody"><p>这篇来讨论一下渲染线框的方法，目前知道的方法有<br>1、在贴图上画<br>2、把线框的模型建出来<br>3、使用geometry shader计算<br>4、使用图形接口的fill mode<br>5、使用pTex，每张贴图是一个线框</p><p>前两条是美术的方法，要看情况，如果只是单纯的渲染出线框，肯定是希望用程序的方法解决，减少美术工作量，但是有时候对线框的需求有点风格化，比如颜色的渐变，模型起伏大的地方线框粗，这样的话还可能还是美术来做效果更好一些。第3条es是不支持的，第4条没找到unity中的接口，而且es好像也不支持……第5条会因为面片的形状大小对贴图上的线框做拉伸，导致粗细不均匀，不过可以在屏幕空间上做判断来改善这个问题。</p><p>目前这几个方法，125都可以算美术的方法，34移动端不支持，即OpenGL ES3.1及以下版本支持的，那么有没有不需要gs的计算的方法？</p><p>最后我自己没想出来，但是在github上找到一个方法，计算代价不大，主要需要额外的uv或模型。<br><a href="http://github.com/miguel12345/UnityWireframeRenderer" target="_blank" rel="noopener">http://github.com/miguel12345/UnityWireframeRenderer</a></p><p>大致讲一下他的思路：<br>关键在于，重新组织mesh的信息，mesh中有索引数组可以帮助我们组织三角形，取得这个情报后，把它放进顶点的UV，使得shader可以看这个情报。</p><p>1、在原物体上挂一个新的GameObject，把原mesh的信息放进新的mesh<br>2、复制信息时，做一些手脚：将一个三角形的三个点的UV分别设置为00, 01, 10<br>3、于是就可以根据一个点的uv位置知道它在三角形中什么位置了，而且计算到边的距离运算量很小</p><p>但是很容易发现这样有个问题，uv位置只是一个相对位置，如果给这个比例值限定一个固定的阈值的话，假设一个正方形拉长，那么有两条边会变粗，大小不同的三角形粗细也会不一样。而我们的目的是在最后的像素空间上看起来粗细一样。如何解决这个问题呢？</p><p>可以使用导数，求得屏幕空间相邻两个像素的uv差值，假设三角形大小是x，uv大小是1，那么导数求得的就是1/x，乘以描边大小假设是3，3/x也是个比例值，就是描边粗细在三角形中的比例，这个值作为uv这个比例值的阈值的话，就不会有变形的问题。实际实现时，要同时考虑u轴v轴两条轴的影响，使得旋转不变形。</p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://Jinnm.github.io/2019/03/12/shader2/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="John Doe"><meta itemprop="description" content><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2019/03/12/shader2/" itemprop="url">描边shader再探讨</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-12T21:10:50+08:00">2019-03-12</time></span></div></header><div class="post-body" itemprop="articleBody"><p>之前的一篇描边shader只是讲了实现的大致思路，但是实际去实现一个普通的角色描边shader的话，会发现很多很多的问题……</p><p>普通的描边感觉比较好也比较常用的方式是用两个pass，底下那层在屏幕空间沿法线外扩，且剔除正面，上面那层用普通的。<br>但是真的使用起来会用很多很麻烦的事。</p><h3 id="一、关于是否只要外轮廓"><a href="#一、关于是否只要外轮廓" class="headerlink" title="一、关于是否只要外轮廓"></a>一、关于是否只要外轮廓</h3><p>图一为只要外轮廓，图二为中间也要，注意看手，手这个角度在外轮廓中，但也有描边。<br><img src="http://ws1.sinaimg.cn/large/006tKfTcly1g10bsluy9fj30ey0ew44t.jpg" alt><br><img src="http://ws4.sinaimg.cn/large/006tKfTcly1g10bsl95zoj30en0epag3.jpg" alt></p><p>如果只要外轮廓，轮廓内部的描边不要的话，可以在第一个pass设置ZWrite off，后一个pass就可以严严实实的盖住它，只露出旁边一圈。<br>关闭深度写入很省心但是会有很多问题，比如Geometry之后会有天空盒的渲染，就会把深度未写入的描边给盖住，就需要调整渲染队列，然后又会带来新的问题……这个时候这个做法就已经不经济了。另一个方法是用Offset指令控制深度测试，让后面的描边颜色稍稍靠后一点。但是往后多少呢，少了的话，一部分面片穿插不能解决，多了的话，角色后面有个靠的很近的物体可能就会出问题……</p><p>而如果要内部描边的话，让一些背面的渲染结果“露出来”，就会因为模型的缘故出现各种奇奇怪怪的问题，严重的比如……<br><img src="http://ws1.sinaimg.cn/large/006tKfTcly1g10bsj35gmj30mk0d2442.jpg" alt></p><p>即便模型建的比较规范，没有严重的面片穿插问题，也会出现一些描边位置奇怪的问题，比如<br><img src="http://ws2.sinaimg.cn/large/006tKfTcly1g10bsh924vj30b708wn22.jpg" alt></p><p>你会感觉你希望的描边并不是这样的……不过想做到这个要求就比较高了，计算机视觉这方面要做的好都需要复杂得多的算法，比如用双阈值判断是否连接……而且关于哪些地方应该描边有很多主观的因素，想象你自己在一张原画上画，很多地方该不该描也要犹豫。</p><h3 id="二、关于如何解决面片割裂开"><a href="#二、关于如何解决面片割裂开" class="headerlink" title="二、关于如何解决面片割裂开"></a>二、关于如何解决面片割裂开</h3><p>就是沿法线外扩的时候，面片会分开，像这样：<br><img src="http://ws2.sinaimg.cn/large/006tKfTcly1g10bsf840aj30ag0a5dfz.jpg" alt></p><p>如果外扩不是很多的话，可以将要外扩的方向和这个点相对于模型中心的方向lerp一下，可以改善一点点……<br>另外有个方法是在导入设置中设置法线为calculate<br><img src="http://ws2.sinaimg.cn/large/006tKfTcly1g11epxjlk7j30eq05574d.jpg" alt><br>但是这么做一方面比较费，另一方面效果还是要看情况，比如修改前修改后分别是这个效果<br><img src="http://ws2.sinaimg.cn/large/006tKfTcly1g11epzs98uj30w80cyq5u.jpg" alt></p><p>要效果好一点，目前知道的唯一方法是……让美术改模型……（美术：那你给我做一个工具吧！）</p><h3 id="三、关于描边是否渐变"><a href="#三、关于描边是否渐变" class="headerlink" title="三、关于描边是否渐变"></a>三、关于描边是否渐变</h3><p>有些时候需要描边往内渐隐，会有一种发光感<br><img src="http://ws3.sinaimg.cn/large/006tKfTcly1g10bsf0i3nj30br0b3acy.jpg" alt></p><p>第一反应：简单啊，就是另一种描边的方式，根据法线和视线夹角的值加描边，角色的边缘和视线的值差不多是九十度。但是还有另外一个要求，只要外轮廓，中间不要加……如果按之前想的方法，中间所有凸起的地方旁边都会有一圈发光描边，就不符合要求了。</p><p>第一个想法：第一个pass外扩，第二个pass往内缩一些，然后把第一个pass的渐变限制在露出来的那一截。实际操作的时候，由于露出来的那一截需要比较宽的一段，顶点沿法线移动太多导致很多面片分离以及穿插的问题……</p><p>第二个想法：用模型空间的坐标做判断，设计一个函数使得，顶点离原点越近，描边影响就越小，同时x轴上的影响更剧烈一些（因为这个shader用在角色上，x轴比较短，y轴比较长）。这样的话，角色一旦是张开手臂的话，手臂上就没有描边了……而且因为头和身子头发都是分开的mesh，也会有问题，随着角色形象的变化还有很多很多问题………总的来说这个方法太过“定制化”了，毫无实用性。</p><p>第三个想法：一般中间不需要描边的部分离摄影机更近，所以可以计算顶点与摄像机的距离，同时计算模型上的(0, y, 0)点与摄像机的距离，两个距离差值越大，描边越弱。这个效果相对来说还可以。<br><img src="http://ws2.sinaimg.cn/large/006tKfTcly1g10bse849cj30a309agnm.jpg" alt><br><img src="http://ws4.sinaimg.cn/large/006tKfTcly1g10bsdaqj4j30au09cwgl.jpg" alt></p><p>但是也会有很多的问题<br>1、中心即便突出一些，也突出的很少，需要比较高的精度<br>2、不同角色差异会很大<br>3、当角色斜侧着身子就会不符合想要的效果。比如像上图这个角度，最左边的左手和最右边的头发应该是同等的描边效果，然而它们分别是离摄像机最远的一点和最近的一点。</p><h3 id="四、关于使用后处理"><a href="#四、关于使用后处理" class="headerlink" title="四、关于使用后处理"></a>四、关于使用后处理</h3><p>其实用后处理很多时候效果会好很多，毕竟发生的很多问题都是3D方面的问题……然而因为后处理太费，尤其是对于移动端，这是一种尽量不要去考虑的方式……<br>后处理的方式就是添加一个额外相机，复制原相机属性，只将需要描边的物体渲染在RT，可以通过layer指定渲染物体。然后将RT扩展出外边，类似高斯模糊，如果不想要渐变的描边效果可以做判断，只要大于0就算描边区域（记得用step不要用if）</p><h3 id="五、总结"><a href="#五、总结" class="headerlink" title="五、总结"></a>五、总结</h3><p>目前没有找到完美的方案，要结合实际使用情况选择一种相对来说效果好一些的方案。</p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://Jinnm.github.io/2018/12/14/shader1/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="John Doe"><meta itemprop="description" content><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2018/12/14/shader1/" itemprop="url">描边Shader</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-14T11:08:49+08:00">2018-12-14</time></span></div></header><div class="post-body" itemprop="articleBody"><p>写一个使3D物体带描边的shader是基于GPU的渲染的一项作业，关于这个作业有一些思考。</p><p>描边shader有很多种写法，最常见最通用的是法线外拓的方法，就是用两个pass，第一个pass渲染红色的放大版模型（之后用A pass表示），第二个pass渲染正常的物体（之后用B pass表示），这样正常物体渲染结果会盖住A pass的结果，但由于A pass把模型放大了，所以会露出旁边的一圈“描边”。</p><p>而如何放大模型？就是把模型顶点沿法线向外移动（移动距离用offset表示）。<br>为了方便看到A pass的情况，互换了两个pass的位置，用立方体做模型，得到如下情况。<br><img src="http://ws3.sinaimg.cn/large/006tNc79ly1fyxujoyv86j30bi0ahwep.jpg" alt></p><p>发现A pass的前面在最顶层，接下来是B pass，最后是A pass的背面。因为默认开了Zwrite和Ztest，所以会根据顶点坐标的前后渲染。</p><p>那么给A pass设置剔除正面只渲染背面（Cull Front）：<br><img src="http://ws1.sinaimg.cn/large/006tNc79ly1fyxujq94osj30ao0acmxb.jpg" alt></p><p>会发现因为顶点沿法线向外移动导致面片分开，使得描边不连续。(这个问题可以通过在模型导入面板中把法线设置为calculate解决)</p><p>换个复杂的模型：<br><img src="http://ws3.sinaimg.cn/large/006tNc79ly1fyxujrhyusj308p0eyq5z.jpg" alt></p><p>由于模型复杂，有些面片虽然是背面的，但还是会穿透B pass的面片。<br>试想如果B pass能把A pass完全盖住就解决这个问题了。</p><p>于是把A pass移到B pass之前，同时设置Zwrite off，也就是说不管A pass的顶点在哪里，都会被B pass的渲染结果盖住，这样就解决了这个问题。<br><img src="http://ws3.sinaimg.cn/large/006tNc79ly1fyxujspf00j308o0eu41l.jpg" alt></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://Jinnm.github.io/2018/11/04/youce2/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="John Doe"><meta itemprop="description" content><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2018/11/04/youce2/" itemprop="url">游戏运营讲座</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-04T21:25:29+08:00">2018-11-04</time></span></div></header><div class="post-body" itemprop="articleBody"><p>虽然以后肯定做技术，不过今天去听了腾讯某游戏运营负责人的讲座，感觉收获颇多。（我好像是觉得什么都很有趣的体质？）由于今天讲的内容感觉太太太难接触到了，所以一定要把它记下来，可惜当时讲座要求手机关机而且没带电脑，我现在只能凭借记忆补全内容，有些做法以及原因想不太起来了QAQ。</p><p>比如这位老师介绍说一个月中，大概第二周会集中拉高收入，第四周会拉高用户。原因是，月初大家比较有钱，而月末关系到下个月的新版本发布，版本发布时活跃用户数多才有意义。</p><p>其中举了两个游戏的游戏的例子。（我最喜欢这种分析实例的讲座了！！！）</p><h3 id="刺激战场"><a href="#刺激战场" class="headerlink" title="刺激战场"></a>刺激战场</h3><h5 id="兑换小白裙"><a href="#兑换小白裙" class="headerlink" title="兑换小白裙"></a>兑换小白裙</h5><p><img src="http://ws3.sinaimg.cn/large/006tNbRwly1fwwcyh50l9j30go087myn.jpg" alt><br><img src="http://ws1.sinaimg.cn/large/006tNbRwly1fwwd106ug7j314e0ogq91.jpg" alt><br>这个活动取得了空前的效果，具体忘记达到了怎样的程度了……反正每到中午，大家都疯狂在群里问你有没有平底锅，我给你一个三倍镜之类。<br>关于这个活动的重点：</p><ul><li>小白裙在端游是极其珍贵的物品。当时刺激战场玩家中端游玩家达到40%。</li><li>好友间的分享只有一次。意犹未尽的感觉。</li></ul><h5 id="集结好友-瓜分红包"><a href="#集结好友-瓜分红包" class="headerlink" title="集结好友 瓜分红包"></a>集结好友 瓜分红包</h5><p>模仿拼多多的模式，大概就是在游戏中完成某个任务，比如击杀了两个人，就可以获得一个红包，红包里有很多礼品，只有你成功邀请几个好友“拼团”之后，才能瓜分红包拿到里面的东西。这个活动当时打破了微信固化了很久的红包模式，至今仍是最热的红包活动。<br>这个活动的重点：</p><ul><li>学习了拼多多“有毒”的模式。<br>小插曲：这位老师当时接触拼多多后觉得这个模式有毒，于是给团队布置任务：下次例会每个人带一件从拼多多免费获得的东西。之后团队就做了这个活动。</li></ul><h3 id="全民飞机大战"><a href="#全民飞机大战" class="headerlink" title="全民飞机大战"></a>全民飞机大战</h3><h5 id="前期的情况"><a href="#前期的情况" class="headerlink" title="前期的情况"></a>前期的情况</h5><ul><li>想要在年后做一个活动，因为年后是游戏行业很恐怖的时间点，一般都是断崖式下跌。</li><li>即将迎来第一次版本更新，而之前的游戏研发只用了两个月，是赶出来的。</li><li>游戏玩法单调，靠着这种方式挽尊：出一个需要巨额金币的新品迫使用户打游戏攒金币。</li><li>调研用户后发现两大需求：机甲和社交。</li></ul><h5 id="活动内容"><a href="#活动内容" class="headerlink" title="活动内容"></a>活动内容</h5><p>于是在年后，第一次版本更新的一周后推出黄金斗士这架战机，这个活动几个关键点：</p><ul><li>时间：年后</li><li>黄金斗士198元</li><li>黄金斗士是很强的战机</li><li>首充6元送168钻石（价值16元）</li><li>DAU：打满6局奖励……</li><li>PCU：限时金币翻倍<br>黄金斗士大概长这样emmmm<br><img src="http://ws4.sinaimg.cn/large/006tNbRwly1fwwdmwozc2j30ap0aygmz.jpg" alt></li></ul><p>这个活动1.5周后推出了价格便宜的变形金刚。</p><h5 id="活动由来"><a href="#活动由来" class="headerlink" title="活动由来"></a>活动由来</h5><p>那么做这些活动的原因是什么呢？</p><p>首先针对用户需求中的社交，推出合体的玩法，两架飞机可以合体来获取对方飞机的一部分属性，比如合体黄金斗士可以在死后再滑行8秒（在游戏中非常关键！）。</p><p>而机甲方面则定下了两款：圣斗士星矢和变形金刚。并做了这样的考虑：</p><ul><li>圣斗士星矢——归为土豪款，金黄色，中国玩家的最爱。虽然美术组的审美很好，但最后还是屈服于玩家的口味。</li><li>变形金刚——归为平民款，价格便宜。</li></ul><p>土豪款是为了造成贫富差距的感觉，有了优越感才有人愿意买呀。而平民款则满足了普通玩家对于机甲的需求。</p><p>为什么定价198元呢？这里需要知道更多的信息，在此之前还有两个重要的战机。</p><ul><li>凤凰：48w金币购买，48w金币升级。48w金币大概需要玩45天，就是前面说的迫使用户打游戏攒金币的新品。</li><li>丘比特：168元购买，800元升级。丘比特性能比较弱，最后效果奇差。</li><li>黄金斗士：198元购买，48w金币升级。</li></ul><p>后面的48w金币很好理解，比起丘比特的天价升级费用，这个升级条件会刺激玩家购买黄金斗士，而且黄金斗士又比丘比特强很多（这个故事告诉我们，之前做的太差也是有好处的），最重要的是，一部分玩家之前为了升级凤凰已经攒的差不多了！手持可用于升级的金币，不到两百获得最最最高配战机，的确很有诱惑力。而198元则是数据分析的结果，大部分玩家消费都在200元以下，超过两百元就会犹豫。</p><p>最后，为什么要等到新版本发布后的一周才做活动？因为游戏开发只用了两个月，这又是第一次版本更新，很有可能会有大bug，这样的话，没有人还愿意付费。</p><p>还有几个小地方，比如首充奖励，这个只是借着大活动顺便增加付费用户。（此处我个人想法：还可以为之后的变形金刚铺垫）</p><h5 id="活动效果"><a href="#活动效果" class="headerlink" title="活动效果"></a>活动效果</h5><p>具体数据忘记了，反正也是很厉害。满贴吧都是“求合体黄豆（黄金斗士简称），加微信”。</p><p>以上两个分析案例只是本次讲座冰山一角，印象比较深。整个讲座体现的运营核心不是收入而是用户：如果你没有用户，何谈收入，如果你有用户，又何必担心收入。</p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://Jinnm.github.io/2018/11/03/youce/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="John Doe"><meta itemprop="description" content><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2018/11/03/youce/" itemprop="url">游戏策划基础</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-03T17:45:32+08:00">2018-11-03</time></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="作业题目"><a href="#作业题目" class="headerlink" title="作业题目"></a>作业题目</h3><p>《谁更无聊》：你跟对手一起进入一个游戏，屏幕上除了关闭按钮什么都没有。只要对手比你先按下关闭按钮，那么你就赢了。</p><p>在不改变核心玩法的前提下，添加哪些设计可以让这一款游戏变得不那么无聊。请从策划的不同分工角度，分类进行设计添加。</p><h3 id="作业提交内容"><a href="#作业提交内容" class="headerlink" title="作业提交内容"></a>作业提交内容</h3><p><img src="http://ws1.sinaimg.cn/large/006tNbRwly1fwv114tzzjj30ct06p3yi.jpg" alt></p><h5 id="核心玩法策划"><a href="#核心玩法策划" class="headerlink" title="核心玩法策划"></a>核心玩法策划</h5><ul><li>游戏开始前，显示对手的所获金币数和所玩局数。</li><li>游戏开始后，整个界面只有中心的大关闭按钮，谁先按到这个按钮谁就输了，游戏也同时结束。而在游戏结束前，玩家可以在屏幕上用手指滑动（当然不能碰到关闭按钮）。</li><li>游戏结束后，会计算两位玩家滑动距离的差值，胜者可以获得与差值对应的金币，而败者会被扣除与差值对应的金币。</li><li>特殊情况，如果直到“极限时间”也依然没有人按到按钮的话，滑动距离多的一方获得与差值对应的金币，少的一方扣除与差值对应的金币。</li></ul><h5 id="系统策划"><a href="#系统策划" class="headerlink" title="系统策划"></a>系统策划</h5><p>按钮模式系统、滑动距离计算系统、金币系统、计时系统、玩家匹配系统。</p><h5 id="关卡策划"><a href="#关卡策划" class="headerlink" title="关卡策划"></a>关卡策划</h5><p>玩家可以选择不同的按钮模式进行游戏（按钮的形状、布局会有区别）。</p><h5 id="数值策划"><a href="#数值策划" class="headerlink" title="数值策划"></a>数值策划</h5><ul><li>对于胜者败者，滑动距离差值对应金币数的规则。</li><li>极限时间的设置。</li><li>如果到了极限时间，最后的金币计算会变成普通情况的两倍。</li><li>根据玩家的游戏情况判断玩家的情况，匹配合适的玩家。</li></ul><h5 id="文学策划"><a href="#文学策划" class="headerlink" title="文学策划"></a>文学策划</h5><p>在游戏开始前，快速使玩家明白规则。在游戏结束后用合适的语言告知玩家结果。</p><h5 id="玩法分析"><a href="#玩法分析" class="headerlink" title="玩法分析"></a>玩法分析</h5><p>首先，滑动距离越长，按到按钮的风险越大。因为如果想获得比较长的滑动距离，最好的方式是【高频率】【尽量长的直线来回滑动距离】，按钮的存在限制了直线来回滑动距离，而且越想增大距离风险越大。同样越增加频率，碰到按钮的风险也越大。所以想要在短时间获得高滑动距离又不碰到按钮是比较困难的。</p><p>但是，滑动距离并不是越长越好，也有可能是越短越好，比如一个高滑动距离玩家不小心按到按钮，你的滑动距离是0的话获利最大。具体如何选择要看玩家的策略（线索来自对手的所获金币数和所玩局数）。</p><p>所以玩家在这个游戏中需要在不按到按钮的情况下，赌自己划多长的距离合适。激进的话很容易按到按钮而被扣金币，保守的话如果对手也一直没按到按钮，很可能会被扣高额金币。</p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article></section><nav class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a></nav></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><section class="site-overview sidebar-panel sidebar-panel-active"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="John Doe"><p class="site-author-name" itemprop="name">John Doe</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">25</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">7</span> <span class="site-state-item-name">tags</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">John Doe</span></div><div class="powered-by">Powered by <a class="theme-link" href="https://hexo.io">Hexo</a></div><div class="theme-info">Theme - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>